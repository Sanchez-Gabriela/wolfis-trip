exports.ids = [0];
exports.modules = {

/***/ "./db.js":
/*!***************!*\
  !*** ./db.js ***!
  \***************/
/*! exports provided: getPlaces, selectUserByUsername, insertUser, selectSessionByToken, deleteSessionByToken, insertSession, insertJourney */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPlaces\", function() { return getPlaces; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectUserByUsername\", function() { return selectUserByUsername; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertUser\", function() { return insertUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectSessionByToken\", function() { return selectSessionByToken; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteSessionByToken\", function() { return deleteSessionByToken; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertSession\", function() { return insertSession; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertJourney\", function() { return insertJourney; });\n__webpack_require__(/*! dotenv */ \"dotenv\").config();\n\nconst argon2 = __webpack_require__(/*! argon2 */ \"argon2\");\n\nconst postgres = __webpack_require__(/*! postgres */ \"postgres\");\n\nconst sql = postgres();\nasync function getPlaces() {\n  const places = await sql`\n    select * from places\n  `;\n  return places;\n}\nasync function selectUserByUsername(username, password) {\n  const usersWithUsername = await sql`\n  SELECT * FROM users WHERE username = ${username}\n  `; //select from always returns an array, even if its one\n  // console.log(usersWithUsername[0]);\n\n  if (usersWithUsername.length === 0) return usersWithUsername;\n  const passwordMatches = await argon2.verify(usersWithUsername[0].password_hash, password); //this returns boolean\n\n  if (passwordMatches) {\n    return usersWithUsername;\n  } else {\n    return [];\n  }\n}\nasync function insertUser(username, passwordHash) {\n  return sql`\n    INSERT INTO users (username, password_hash) VALUES (${username}, ${passwordHash})\n  `;\n}\nasync function selectSessionByToken(token) {\n  return sql`\n    SELECT * FROM sessions WHERE token = ${token}\n  `;\n}\nasync function deleteSessionByToken(token) {\n  return sql`\n    DELETE FROM sessions WHERE token = ${token}\n  `;\n}\nasync function insertSession(userId, token) {\n  return sql`\n    INSERT INTO sessions (user_id, token) VALUES (${userId}, ${token})\n  `;\n}\nasync function insertJourney(startDate, endDate, userId) {\n  return sql`\n    INSERT INTO journeys (start_date, end_date, user_id) VALUES (${startDate}, ${endDate}, ${userId}) RETURNING id, start_date, end_date, user_id\n  `;\n} // export async function insertJourneyEntries(journeyId, placeId, date, order) {\n//   return sql`\n//     INSERT INTO journeyentries (journey_id, place_id, date, order) VALUES (${journeyId}, ${placeId}, ${date}, ${order})\n//   `;\n// }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kYi5qcz8yNmY1Il0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJhcmdvbjIiLCJwb3N0Z3JlcyIsInNxbCIsImdldFBsYWNlcyIsInBsYWNlcyIsInNlbGVjdFVzZXJCeVVzZXJuYW1lIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInVzZXJzV2l0aFVzZXJuYW1lIiwibGVuZ3RoIiwicGFzc3dvcmRNYXRjaGVzIiwidmVyaWZ5IiwicGFzc3dvcmRfaGFzaCIsImluc2VydFVzZXIiLCJwYXNzd29yZEhhc2giLCJzZWxlY3RTZXNzaW9uQnlUb2tlbiIsInRva2VuIiwiZGVsZXRlU2Vzc2lvbkJ5VG9rZW4iLCJpbnNlcnRTZXNzaW9uIiwidXNlcklkIiwiaW5zZXJ0Sm91cm5leSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiXSwibWFwcGluZ3MiOiJBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQSxtQkFBTyxDQUFDLHNCQUFELENBQVAsQ0FBa0JDLE1BQWxCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsbUJBQU8sQ0FBQyxzQkFBRCxDQUF0Qjs7QUFDQSxNQUFNRyxRQUFRLEdBQUdILG1CQUFPLENBQUMsMEJBQUQsQ0FBeEI7O0FBQ0EsTUFBTUksR0FBRyxHQUFHRCxRQUFRLEVBQXBCO0FBRU8sZUFBZUUsU0FBZixHQUEyQjtBQUNoQyxRQUFNQyxNQUFNLEdBQUcsTUFBTUYsR0FBSTs7R0FBekI7QUFHQSxTQUFPRSxNQUFQO0FBQ0Q7QUFFTSxlQUFlQyxvQkFBZixDQUFvQ0MsUUFBcEMsRUFBOENDLFFBQTlDLEVBQXdEO0FBQzdELFFBQU1DLGlCQUFpQixHQUFHLE1BQU1OLEdBQUk7eUNBQ0dJLFFBQVM7R0FEaEQsQ0FENkQsQ0FHMUQ7QUFDSDs7QUFDQSxNQUFJRSxpQkFBaUIsQ0FBQ0MsTUFBbEIsS0FBNkIsQ0FBakMsRUFBb0MsT0FBT0QsaUJBQVA7QUFDcEMsUUFBTUUsZUFBZSxHQUFHLE1BQU1WLE1BQU0sQ0FBQ1csTUFBUCxDQUM1QkgsaUJBQWlCLENBQUMsQ0FBRCxDQUFqQixDQUFxQkksYUFETyxFQUU1QkwsUUFGNEIsQ0FBOUIsQ0FONkQsQ0FTMUQ7O0FBQ0gsTUFBSUcsZUFBSixFQUFxQjtBQUNuQixXQUFPRixpQkFBUDtBQUNELEdBRkQsTUFFTztBQUNMLFdBQU8sRUFBUDtBQUNEO0FBQ0Y7QUFFTSxlQUFlSyxVQUFmLENBQTBCUCxRQUExQixFQUFvQ1EsWUFBcEMsRUFBa0Q7QUFDdkQsU0FBT1osR0FBSTswREFDNkNJLFFBQVMsS0FBSVEsWUFBYTtHQURsRjtBQUdEO0FBRU0sZUFBZUMsb0JBQWYsQ0FBb0NDLEtBQXBDLEVBQTJDO0FBQ2hELFNBQU9kLEdBQUk7MkNBQzhCYyxLQUFNO0dBRC9DO0FBR0Q7QUFFTSxlQUFlQyxvQkFBZixDQUFvQ0QsS0FBcEMsRUFBMkM7QUFDaEQsU0FBT2QsR0FBSTt5Q0FDNEJjLEtBQU07R0FEN0M7QUFHRDtBQUVNLGVBQWVFLGFBQWYsQ0FBNkJDLE1BQTdCLEVBQXFDSCxLQUFyQyxFQUE0QztBQUNqRCxTQUFPZCxHQUFJO29EQUN1Q2lCLE1BQU8sS0FBSUgsS0FBTTtHQURuRTtBQUdEO0FBRU0sZUFBZUksYUFBZixDQUE2QkMsU0FBN0IsRUFBd0NDLE9BQXhDLEVBQWlESCxNQUFqRCxFQUF5RDtBQUM5RCxTQUFPakIsR0FBSTttRUFDc0RtQixTQUFVLEtBQUlDLE9BQVEsS0FBSUgsTUFBTztHQURsRztBQUdELEMsQ0FFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vZGIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcblxuY29uc3QgYXJnb24yID0gcmVxdWlyZSgnYXJnb24yJyk7XG5jb25zdCBwb3N0Z3JlcyA9IHJlcXVpcmUoJ3Bvc3RncmVzJyk7XG5jb25zdCBzcWwgPSBwb3N0Z3JlcygpO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGxhY2VzKCkge1xuICBjb25zdCBwbGFjZXMgPSBhd2FpdCBzcWxgXG4gICAgc2VsZWN0ICogZnJvbSBwbGFjZXNcbiAgYDtcbiAgcmV0dXJuIHBsYWNlcztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdFVzZXJCeVVzZXJuYW1lKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICBjb25zdCB1c2Vyc1dpdGhVc2VybmFtZSA9IGF3YWl0IHNxbGBcbiAgU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1c2VybmFtZSA9ICR7dXNlcm5hbWV9XG4gIGA7IC8vc2VsZWN0IGZyb20gYWx3YXlzIHJldHVybnMgYW4gYXJyYXksIGV2ZW4gaWYgaXRzIG9uZVxuICAvLyBjb25zb2xlLmxvZyh1c2Vyc1dpdGhVc2VybmFtZVswXSk7XG4gIGlmICh1c2Vyc1dpdGhVc2VybmFtZS5sZW5ndGggPT09IDApIHJldHVybiB1c2Vyc1dpdGhVc2VybmFtZTtcbiAgY29uc3QgcGFzc3dvcmRNYXRjaGVzID0gYXdhaXQgYXJnb24yLnZlcmlmeShcbiAgICB1c2Vyc1dpdGhVc2VybmFtZVswXS5wYXNzd29yZF9oYXNoLFxuICAgIHBhc3N3b3JkLFxuICApOyAvL3RoaXMgcmV0dXJucyBib29sZWFuXG4gIGlmIChwYXNzd29yZE1hdGNoZXMpIHtcbiAgICByZXR1cm4gdXNlcnNXaXRoVXNlcm5hbWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnNlcnRVc2VyKHVzZXJuYW1lLCBwYXNzd29yZEhhc2gpIHtcbiAgcmV0dXJuIHNxbGBcbiAgICBJTlNFUlQgSU5UTyB1c2VycyAodXNlcm5hbWUsIHBhc3N3b3JkX2hhc2gpIFZBTFVFUyAoJHt1c2VybmFtZX0sICR7cGFzc3dvcmRIYXNofSlcbiAgYDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdFNlc3Npb25CeVRva2VuKHRva2VuKSB7XG4gIHJldHVybiBzcWxgXG4gICAgU0VMRUNUICogRlJPTSBzZXNzaW9ucyBXSEVSRSB0b2tlbiA9ICR7dG9rZW59XG4gIGA7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVTZXNzaW9uQnlUb2tlbih0b2tlbikge1xuICByZXR1cm4gc3FsYFxuICAgIERFTEVURSBGUk9NIHNlc3Npb25zIFdIRVJFIHRva2VuID0gJHt0b2tlbn1cbiAgYDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydFNlc3Npb24odXNlcklkLCB0b2tlbikge1xuICByZXR1cm4gc3FsYFxuICAgIElOU0VSVCBJTlRPIHNlc3Npb25zICh1c2VyX2lkLCB0b2tlbikgVkFMVUVTICgke3VzZXJJZH0sICR7dG9rZW59KVxuICBgO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5zZXJ0Sm91cm5leShzdGFydERhdGUsIGVuZERhdGUsIHVzZXJJZCkge1xuICByZXR1cm4gc3FsYFxuICAgIElOU0VSVCBJTlRPIGpvdXJuZXlzIChzdGFydF9kYXRlLCBlbmRfZGF0ZSwgdXNlcl9pZCkgVkFMVUVTICgke3N0YXJ0RGF0ZX0sICR7ZW5kRGF0ZX0sICR7dXNlcklkfSkgUkVUVVJOSU5HIGlkLCBzdGFydF9kYXRlLCBlbmRfZGF0ZSwgdXNlcl9pZFxuICBgO1xufVxuXG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5zZXJ0Sm91cm5leUVudHJpZXMoam91cm5leUlkLCBwbGFjZUlkLCBkYXRlLCBvcmRlcikge1xuLy8gICByZXR1cm4gc3FsYFxuLy8gICAgIElOU0VSVCBJTlRPIGpvdXJuZXllbnRyaWVzIChqb3VybmV5X2lkLCBwbGFjZV9pZCwgZGF0ZSwgb3JkZXIpIFZBTFVFUyAoJHtqb3VybmV5SWR9LCAke3BsYWNlSWR9LCAke2RhdGV9LCAke29yZGVyfSlcbi8vICAgYDtcbi8vIH1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./db.js\n");

/***/ })

};;