exports.ids = [0];
exports.modules = {

/***/ "./db.js":
/*!***************!*\
  !*** ./db.js ***!
  \***************/
/*! exports provided: getPlaces, selectUserByUsername, insertUser, selectSessionByToken, deleteSessionByToken, insertSession, insertJourney, insertEntries, sessionsJoinENtries */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPlaces\", function() { return getPlaces; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectUserByUsername\", function() { return selectUserByUsername; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertUser\", function() { return insertUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectSessionByToken\", function() { return selectSessionByToken; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteSessionByToken\", function() { return deleteSessionByToken; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertSession\", function() { return insertSession; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertJourney\", function() { return insertJourney; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertEntries\", function() { return insertEntries; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sessionsJoinENtries\", function() { return sessionsJoinENtries; });\n__webpack_require__(/*! dotenv */ \"dotenv\").config();\n\nconst argon2 = __webpack_require__(/*! argon2 */ \"argon2\");\n\nconst postgres = __webpack_require__(/*! postgres */ \"postgres\");\n\nconst sql = postgres();\nasync function getPlaces() {\n  const places = await sql`\n    select * from places\n  `;\n  return places;\n}\nasync function selectUserByUsername(username, password) {\n  const usersWithUsername = await sql`\n  SELECT * FROM users WHERE username = ${username}\n  `; //select from always returns an array, even if its one\n  // console.log(usersWithUsername[0]);\n\n  if (usersWithUsername.length === 0) return usersWithUsername;\n  const passwordMatches = await argon2.verify(usersWithUsername[0].password_hash, password); //this returns boolean\n\n  if (passwordMatches) {\n    return usersWithUsername;\n  } else {\n    return [];\n  }\n}\nasync function insertUser(username, passwordHash) {\n  return sql`\n    INSERT INTO users (username, password_hash) VALUES (${username}, ${passwordHash})\n  `;\n}\nasync function selectSessionByToken(token) {\n  return sql`\n    SELECT * FROM sessions WHERE token = ${token}\n  `;\n}\nasync function deleteSessionByToken(token) {\n  return sql`\n    DELETE FROM sessions WHERE token = ${token}\n  `;\n}\nasync function insertSession(userId, token) {\n  return sql`\n    INSERT INTO sessions (user_id, token) VALUES (${userId}, ${token})\n  `;\n}\nasync function insertJourney(startDate, endDate, token) {\n  const search = await sql`\n    SELECT user_id FROM sessions WHERE token = ${token}\n  `;\n  console.log(search);\n  const userId = search[0].user_id;\n  return sql`\n    INSERT INTO journeys (start_date, end_date, user_id) VALUES (${startDate}, ${endDate}, ${userId}) RETURNING id, start_date, end_date, user_id\n  `;\n}\n\nfunction getRandomItem(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nasync function insertEntries(tagIds, journeyId) {\n  // selectedTags shows me places_id column based tags_id\n  const placesAndTags = await sql`\n    SELECT places_id, tags_id FROM places_tags WHERE tags_id IN (${tagIds})\n  `;\n  console.log('placesandTags:', placesAndTags);\n  console.log('tagIds', tagIds); // tag gives a random number from the places_id column\n\n  const selectedPlacesAndTags = [];\n  tagIds.forEach(tagId => {\n    // these are the placesIds based on the tagId\n    const placesByTag = placesAndTags.filter(placeAndTag => {\n      return placeAndTag.tags_id === Number(tagId);\n    });\n    const selectedPlaceAndTag = getRandomItem(placesByTag);\n    selectedPlacesAndTags.push(selectedPlaceAndTag);\n    console.log('selectedplaces:', selectedPlacesAndTags);\n  });\n  console.log('selectedplaces:', selectedPlacesAndTags);\n  const places = selectedPlacesAndTags.map(place_id => {\n    console.log(place_id);\n    return place_id.places_id;\n  });\n  console.log('places', places);\n  const tagArray = await sql`\n    SELECT name, address, image, description FROM places WHERE id IN (${places}) \n  `;\n  console.log('tagArray', tagArray);\n  await sql`\n    INSERT INTO entriesTags (journey_id, place_id)\n    SELECT ${journeyId}, x\n      FROM unnest(ARRAY[${places}]) x\n  `;\n  return tagArray;\n}\nasync function sessionsJoinENtries(token) {\n  const trip = await sql`\n    SELECT \n      journeys.id as journey_id\n    FROM \n      sessions,\n      users,\n      journeys\n    WHERE \n      sessions.token = ${token} AND\n      users.id = sessions.user_id AND\n      journeys.user_id = users.id\n  `;\n  console.log(trip);\n} // export async function journeysUser() {\n//   const journey = await sql`\n//     SELECT * FROM entriesTags WHERE journey_id = ${journeyId}\n//   `;\n//   console.log('lulu', journey);\n//   console.log('ajajajajaja', journeyId);\n//   return journey;\n// }\n// export async function personalizedPlan(places) {\n//   const plan = await sql`\n//     SELECT * FROM places WHERE\n//   `;\n// }\n// export async function selectUserByUsername(username, password) {\n//   const usersWithUsername = await sql`\n//   SELECT * FROM users WHERE username = ${username}\n//   `; //select from always returns an array, even if its one\n//   // console.log(usersWithUsername[0]);\n//   if (usersWithUsername.length === 0) return usersWithUsername;\n//   const passwordMatches = await argon2.verify(\n//     usersWithUsername[0].password_hash,\n//     password,\n//   ); //this returns boolean\n//   if (passwordMatches) {\n//     return usersWithUsername;\n//   } else {\n//     return [];\n//   }\n// }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kYi5qcz8yNmY1Il0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJhcmdvbjIiLCJwb3N0Z3JlcyIsInNxbCIsImdldFBsYWNlcyIsInBsYWNlcyIsInNlbGVjdFVzZXJCeVVzZXJuYW1lIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInVzZXJzV2l0aFVzZXJuYW1lIiwibGVuZ3RoIiwicGFzc3dvcmRNYXRjaGVzIiwidmVyaWZ5IiwicGFzc3dvcmRfaGFzaCIsImluc2VydFVzZXIiLCJwYXNzd29yZEhhc2giLCJzZWxlY3RTZXNzaW9uQnlUb2tlbiIsInRva2VuIiwiZGVsZXRlU2Vzc2lvbkJ5VG9rZW4iLCJpbnNlcnRTZXNzaW9uIiwidXNlcklkIiwiaW5zZXJ0Sm91cm5leSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJzZWFyY2giLCJjb25zb2xlIiwibG9nIiwidXNlcl9pZCIsImdldFJhbmRvbUl0ZW0iLCJhcnIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJpbnNlcnRFbnRyaWVzIiwidGFnSWRzIiwiam91cm5leUlkIiwicGxhY2VzQW5kVGFncyIsInNlbGVjdGVkUGxhY2VzQW5kVGFncyIsImZvckVhY2giLCJ0YWdJZCIsInBsYWNlc0J5VGFnIiwiZmlsdGVyIiwicGxhY2VBbmRUYWciLCJ0YWdzX2lkIiwiTnVtYmVyIiwic2VsZWN0ZWRQbGFjZUFuZFRhZyIsInB1c2giLCJtYXAiLCJwbGFjZV9pZCIsInBsYWNlc19pZCIsInRhZ0FycmF5Iiwic2Vzc2lvbnNKb2luRU50cmllcyIsInRyaXAiXSwibWFwcGluZ3MiOiJBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQSxtQkFBTyxDQUFDLHNCQUFELENBQVAsQ0FBa0JDLE1BQWxCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsbUJBQU8sQ0FBQyxzQkFBRCxDQUF0Qjs7QUFDQSxNQUFNRyxRQUFRLEdBQUdI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UixDQUFZLGlCQUFaLEVBQStCVyxxQkFBL0I7QUFDRCxHQVJEO0FBVUFaLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFaLEVBQStCVyxxQkFBL0I7QUFDQSxRQUFNaEMsTUFBTSxHQUFHZ0MscUJBQXFCLENBQUNVLEdBQXRCLENBQTJCQyxRQUFELElBQWM7QUFDckR2QixXQUFPLENBQUNDLEdBQVIsQ0FBWXNCLFFBQVo7QUFDQSxXQUFPQSxRQUFRLENBQUNDLFNBQWhCO0FBQ0QsR0FIYyxDQUFmO0FBS0F4QixTQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQXNCckIsTUFBdEI7QUFDQSxRQUFNNkMsUUFBUSxHQUFHLE1BQU0vQyxHQUFJO3dFQUMyQ0UsTUFBTztHQUQ3RTtBQUlBb0IsU0FBTyxDQUFDQyxHQUFSLENBQVksVUFBWixFQUF3QndCLFFBQXhCO0FBRUEsUUFBTS9DLEdBQUk7O2FBRUNnQyxTQUFVOzBCQUNHOUIsTUFBTztHQUgvQjtBQU1BLFNBQU82QyxRQUFQO0FBQ0Q7QUFFTSxlQUFlQyxtQkFBZixDQUFtQ2xDLEtBQW5DLEVBQTBDO0FBQy9DLFFBQU1tQyxJQUFJLEdBQUcsTUFBTWpELEdBQUk7Ozs7Ozs7O3lCQVFBYyxLQUFNOzs7R0FSN0I7QUFZQVEsU0FBTyxDQUFDQyxHQUFSLENBQVkwQixJQUFaO0FBQ0QsQyxDQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9kYi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpO1xuXG5jb25zdCBhcmdvbjIgPSByZXF1aXJlKCdhcmdvbjInKTtcbmNvbnN0IHBvc3RncmVzID0gcmVxdWlyZSgncG9zdGdyZXMnKTtcbmNvbnN0IHNxbCA9IHBvc3RncmVzKCk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQbGFjZXMoKSB7XG4gIGNvbnN0IHBsYWNlcyA9IGF3YWl0IHNxbGBcbiAgICBzZWxlY3QgKiBmcm9tIHBsYWNlc1xuICBgO1xuICByZXR1cm4gcGxhY2VzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VsZWN0VXNlckJ5VXNlcm5hbWUodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gIGNvbnN0IHVzZXJzV2l0aFVzZXJuYW1lID0gYXdhaXQgc3FsYFxuICBTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIHVzZXJuYW1lID0gJHt1c2VybmFtZX1cbiAgYDsgLy9zZWxlY3QgZnJvbSBhbHdheXMgcmV0dXJucyBhbiBhcnJheSwgZXZlbiBpZiBpdHMgb25lXG4gIC8vIGNvbnNvbGUubG9nKHVzZXJzV2l0aFVzZXJuYW1lWzBdKTtcbiAgaWYgKHVzZXJzV2l0aFVzZXJuYW1lLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVzZXJzV2l0aFVzZXJuYW1lO1xuICBjb25zdCBwYXNzd29yZE1hdGNoZXMgPSBhd2FpdCBhcmdvbjIudmVyaWZ5KFxuICAgIHVzZXJzV2l0aFVzZXJuYW1lWzBdLnBhc3N3b3JkX2hhc2gsXG4gICAgcGFzc3dvcmQsXG4gICk7IC8vdGhpcyByZXR1cm5zIGJvb2xlYW5cbiAgaWYgKHBhc3N3b3JkTWF0Y2hlcykge1xuICAgIHJldHVybiB1c2Vyc1dpdGhVc2VybmFtZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydFVzZXIodXNlcm5hbWUsIHBhc3N3b3JkSGFzaCkge1xuICByZXR1cm4gc3FsYFxuICAgIElOU0VSVCBJTlRPIHVzZXJzICh1c2VybmFtZSwgcGFzc3dvcmRfaGFzaCkgVkFMVUVTICgke3VzZXJuYW1lfSwgJHtwYXNzd29yZEhhc2h9KVxuICBgO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VsZWN0U2Vzc2lvbkJ5VG9rZW4odG9rZW4pIHtcbiAgcmV0dXJuIHNxbGBcbiAgICBTRUxFQ1QgKiBGUk9NIHNlc3Npb25zIFdIRVJFIHRva2VuID0gJHt0b2tlbn1cbiAgYDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVNlc3Npb25CeVRva2VuKHRva2VuKSB7XG4gIHJldHVybiBzcWxgXG4gICAgREVMRVRFIEZST00gc2Vzc2lvbnMgV0hFUkUgdG9rZW4gPSAke3Rva2VufVxuICBgO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5zZXJ0U2Vzc2lvbih1c2VySWQsIHRva2VuKSB7XG4gIHJldHVybiBzcWxgXG4gICAgSU5TRVJUIElOVE8gc2Vzc2lvbnMgKHVzZXJfaWQsIHRva2VuKSBWQUxVRVMgKCR7dXNlcklkfSwgJHt0b2tlbn0pXG4gIGA7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnNlcnRKb3VybmV5KHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgdG9rZW4pIHtcbiAgY29uc3Qgc2VhcmNoID0gYXdhaXQgc3FsYFxuICAgIFNFTEVDVCB1c2VyX2lkIEZST00gc2Vzc2lvbnMgV0hFUkUgdG9rZW4gPSAke3Rva2VufVxuICBgO1xuICBjb25zb2xlLmxvZyhzZWFyY2gpO1xuXG4gIGNvbnN0IHVzZXJJZCA9IHNlYXJjaFswXS51c2VyX2lkO1xuXG4gIHJldHVybiBzcWxgXG4gICAgSU5TRVJUIElOVE8gam91cm5leXMgKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCB1c2VyX2lkKSBWQUxVRVMgKCR7c3RhcnREYXRlfSwgJHtlbmREYXRlfSwgJHt1c2VySWR9KSBSRVRVUk5JTkcgaWQsIHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCB1c2VyX2lkXG4gIGA7XG59XG5mdW5jdGlvbiBnZXRSYW5kb21JdGVtKGFycikge1xuICByZXR1cm4gYXJyW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFyci5sZW5ndGgpXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydEVudHJpZXModGFnSWRzLCBqb3VybmV5SWQpIHtcbiAgLy8gc2VsZWN0ZWRUYWdzIHNob3dzIG1lIHBsYWNlc19pZCBjb2x1bW4gYmFzZWQgdGFnc19pZFxuICBjb25zdCBwbGFjZXNBbmRUYWdzID0gYXdhaXQgc3FsYFxuICAgIFNFTEVDVCBwbGFjZXNfaWQsIHRhZ3NfaWQgRlJPTSBwbGFjZXNfdGFncyBXSEVSRSB0YWdzX2lkIElOICgke3RhZ0lkc30pXG4gIGA7XG4gIGNvbnNvbGUubG9nKCdwbGFjZXNhbmRUYWdzOicsIHBsYWNlc0FuZFRhZ3MpO1xuICBjb25zb2xlLmxvZygndGFnSWRzJywgdGFnSWRzKTtcblxuICAvLyB0YWcgZ2l2ZXMgYSByYW5kb20gbnVtYmVyIGZyb20gdGhlIHBsYWNlc19pZCBjb2x1bW5cbiAgY29uc3Qgc2VsZWN0ZWRQbGFjZXNBbmRUYWdzID0gW107XG4gIHRhZ0lkcy5mb3JFYWNoKCh0YWdJZCkgPT4ge1xuICAgIC8vIHRoZXNlIGFyZSB0aGUgcGxhY2VzSWRzIGJhc2VkIG9uIHRoZSB0YWdJZFxuICAgIGNvbnN0IHBsYWNlc0J5VGFnID0gcGxhY2VzQW5kVGFncy5maWx0ZXIoKHBsYWNlQW5kVGFnKSA9PiB7XG4gICAgICByZXR1cm4gcGxhY2VBbmRUYWcudGFnc19pZCA9PT0gTnVtYmVyKHRhZ0lkKTtcbiAgICB9KTtcbiAgICBjb25zdCBzZWxlY3RlZFBsYWNlQW5kVGFnID0gZ2V0UmFuZG9tSXRlbShwbGFjZXNCeVRhZyk7XG4gICAgc2VsZWN0ZWRQbGFjZXNBbmRUYWdzLnB1c2goc2VsZWN0ZWRQbGFjZUFuZFRhZyk7XG4gICAgY29uc29sZS5sb2coJ3NlbGVjdGVkcGxhY2VzOicsIHNlbGVjdGVkUGxhY2VzQW5kVGFncyk7XG4gIH0pO1xuXG4gIGNvbnNvbGUubG9nKCdzZWxlY3RlZHBsYWNlczonLCBzZWxlY3RlZFBsYWNlc0FuZFRhZ3MpO1xuICBjb25zdCBwbGFjZXMgPSBzZWxlY3RlZFBsYWNlc0FuZFRhZ3MubWFwKChwbGFjZV9pZCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKHBsYWNlX2lkKTtcbiAgICByZXR1cm4gcGxhY2VfaWQucGxhY2VzX2lkO1xuICB9KTtcblxuICBjb25zb2xlLmxvZygncGxhY2VzJywgcGxhY2VzKTtcbiAgY29uc3QgdGFnQXJyYXkgPSBhd2FpdCBzcWxgXG4gICAgU0VMRUNUIG5hbWUsIGFkZHJlc3MsIGltYWdlLCBkZXNjcmlwdGlvbiBGUk9NIHBsYWNlcyBXSEVSRSBpZCBJTiAoJHtwbGFjZXN9KSBcbiAgYDtcblxuICBjb25zb2xlLmxvZygndGFnQXJyYXknLCB0YWdBcnJheSk7XG5cbiAgYXdhaXQgc3FsYFxuICAgIElOU0VSVCBJTlRPIGVudHJpZXNUYWdzIChqb3VybmV5X2lkLCBwbGFjZV9pZClcbiAgICBTRUxFQ1QgJHtqb3VybmV5SWR9LCB4XG4gICAgICBGUk9NIHVubmVzdChBUlJBWVske3BsYWNlc31dKSB4XG4gIGA7XG5cbiAgcmV0dXJuIHRhZ0FycmF5O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2Vzc2lvbnNKb2luRU50cmllcyh0b2tlbikge1xuICBjb25zdCB0cmlwID0gYXdhaXQgc3FsYFxuICAgIFNFTEVDVCBcbiAgICAgIGpvdXJuZXlzLmlkIGFzIGpvdXJuZXlfaWRcbiAgICBGUk9NIFxuICAgICAgc2Vzc2lvbnMsXG4gICAgICB1c2VycyxcbiAgICAgIGpvdXJuZXlzXG4gICAgV0hFUkUgXG4gICAgICBzZXNzaW9ucy50b2tlbiA9ICR7dG9rZW59IEFORFxuICAgICAgdXNlcnMuaWQgPSBzZXNzaW9ucy51c2VyX2lkIEFORFxuICAgICAgam91cm5leXMudXNlcl9pZCA9IHVzZXJzLmlkXG4gIGA7XG4gIGNvbnNvbGUubG9nKHRyaXApO1xufVxuLy8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGpvdXJuZXlzVXNlcigpIHtcbi8vICAgY29uc3Qgam91cm5leSA9IGF3YWl0IHNxbGBcbi8vICAgICBTRUxFQ1QgKiBGUk9NIGVudHJpZXNUYWdzIFdIRVJFIGpvdXJuZXlfaWQgPSAke2pvdXJuZXlJZH1cbi8vICAgYDtcbi8vICAgY29uc29sZS5sb2coJ2x1bHUnLCBqb3VybmV5KTtcbi8vICAgY29uc29sZS5sb2coJ2FqYWphamFqYWphJywgam91cm5leUlkKTtcbi8vICAgcmV0dXJuIGpvdXJuZXk7XG4vLyB9XG5cbi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBwZXJzb25hbGl6ZWRQbGFuKHBsYWNlcykge1xuLy8gICBjb25zdCBwbGFuID0gYXdhaXQgc3FsYFxuLy8gICAgIFNFTEVDVCAqIEZST00gcGxhY2VzIFdIRVJFXG4vLyAgIGA7XG4vLyB9XG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VsZWN0VXNlckJ5VXNlcm5hbWUodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4vLyAgIGNvbnN0IHVzZXJzV2l0aFVzZXJuYW1lID0gYXdhaXQgc3FsYFxuLy8gICBTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIHVzZXJuYW1lID0gJHt1c2VybmFtZX1cbi8vICAgYDsgLy9zZWxlY3QgZnJvbSBhbHdheXMgcmV0dXJucyBhbiBhcnJheSwgZXZlbiBpZiBpdHMgb25lXG4vLyAgIC8vIGNvbnNvbGUubG9nKHVzZXJzV2l0aFVzZXJuYW1lWzBdKTtcbi8vICAgaWYgKHVzZXJzV2l0aFVzZXJuYW1lLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVzZXJzV2l0aFVzZXJuYW1lO1xuLy8gICBjb25zdCBwYXNzd29yZE1hdGNoZXMgPSBhd2FpdCBhcmdvbjIudmVyaWZ5KFxuLy8gICAgIHVzZXJzV2l0aFVzZXJuYW1lWzBdLnBhc3N3b3JkX2hhc2gsXG4vLyAgICAgcGFzc3dvcmQsXG4vLyAgICk7IC8vdGhpcyByZXR1cm5zIGJvb2xlYW5cbi8vICAgaWYgKHBhc3N3b3JkTWF0Y2hlcykge1xuLy8gICAgIHJldHVybiB1c2Vyc1dpdGhVc2VybmFtZTtcbi8vICAgfSBlbHNlIHtcbi8vICAgICByZXR1cm4gW107XG4vLyAgIH1cbi8vIH1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./db.js\n");

/***/ })

};;