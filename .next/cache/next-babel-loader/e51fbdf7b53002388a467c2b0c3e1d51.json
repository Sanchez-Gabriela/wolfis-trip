{"ast":null,"code":"var _jsxFileName = \"/Users/gabrielasanchez/projects/wolfis-trip/pages/logout.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Head from 'next/head';\nexport var __N_SSP = true;\nexport default function Logout() {\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }\n  }, \"Logged out\")), \"Successfully Logged Out\");\n}\n_c = Logout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"sources":["/Users/gabrielasanchez/projects/wolfis-trip/pages/logout.tsx"],"names":["React","Head","Logout"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;;AAIA,eAAe,SAASC,MAAT,GAAkB;AAC/B,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,4BADF;AAQD;KATuBA,M","sourcesContent":["import React from 'react';\nimport Head from 'next/head';\nimport Header from '../components/Header';\nimport { GetServerSidePropsContext } from 'next';\n\nexport default function Logout() {\n  return (\n    <div>\n      <Head>\n        <title>Logged out</title>\n      </Head>\n      Successfully Logged Out\n    </div>\n  );\n}\n\nexport async function getServerSideProps(context: GetServerSidePropsContext) {\n  const { serialize } = await import('cookie');\n  const nextCookies = (await import('next-cookies')).default;\n  const { deleteSessionByToken } = await import('../db');\n\n  const { token } = nextCookies(context);\n  await deleteSessionByToken(token);\n\n  // Remove the cookie\n  context.res.setHeader(\n    'Set-Cookie',\n    serialize('token', '', {\n      maxAge: -1,\n      path: '/',\n    }),\n  );\n\n  return {\n    props: {},\n  };\n}\n"]},"metadata":{},"sourceType":"module"}