{"ast":null,"code":"var _jsxFileName = \"/Users/gabrielasanchez/projects/wolfis-trip/pages/logout.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Head from 'next/head';\nimport Header from '../components/Header';\nexport default function Logout() {\n  const linkList = [{\n    name: 'About',\n    url: '/about'\n  }];\n\n  if (user === null) {\n    linkList.push({\n      name: 'Register',\n      url: '/register'\n    });\n    linkList.push({\n      name: 'Login',\n      url: '/login'\n    });\n  } else {\n    linkList.push({\n      name: 'Logout',\n      url: '/logout'\n    });\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 11\n    }\n  }, \"Logged out\")), \"Successfully Logged Out\"));\n}\nexport async function getServerSideProps(context) {\n  const {\n    serialize\n  } = await import('cookie');\n  const nextCookies = (await import('next-cookies')).default;\n  const {\n    deleteSessionByToken\n  } = await import('../db');\n  const {\n    token\n  } = nextCookies(context);\n  await deleteSessionByToken(token); // Remove the cookie\n\n  context.res.setHeader('Set-Cookie', serialize('token', '', {\n    maxAge: -1,\n    path: '/'\n  }));\n  return {\n    props: {}\n  };\n}","map":{"version":3,"sources":["/Users/gabrielasanchez/projects/wolfis-trip/pages/logout.tsx"],"names":["React","Head","Header","Logout","linkList","name","url","user","push","getServerSideProps","context","serialize","nextCookies","default","deleteSessionByToken","token","res","setHeader","maxAge","path","props"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AAGA,eAAe,SAASC,MAAT,GAAkB;AAC/B,QAAMC,QAAQ,GAAG,CAAC;AAAEC,IAAAA,IAAI,EAAE,OAAR;AAAiBC,IAAAA,GAAG,EAAE;AAAtB,GAAD,CAAjB;;AAEA,MAAIC,IAAI,KAAK,IAAb,EAAmB;AACjBH,IAAAA,QAAQ,CAACI,IAAT,CAAc;AAAEH,MAAAA,IAAI,EAAE,UAAR;AAAoBC,MAAAA,GAAG,EAAE;AAAzB,KAAd;AACAF,IAAAA,QAAQ,CAACI,IAAT,CAAc;AAAEH,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,GAAG,EAAE;AAAtB,KAAd;AACD,GAHD,MAGO;AACLF,IAAAA,QAAQ,CAACI,IAAT,CAAc;AAAEH,MAAAA,IAAI,EAAE,QAAR;AAAkBC,MAAAA,GAAG,EAAE;AAAvB,KAAd;AACD;;AACD,SACE,4BACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,4BAFF,CADF;AAWD;AAED,OAAO,eAAeG,kBAAf,CAAkCC,OAAlC,EAAsE;AAC3E,QAAM;AAAEC,IAAAA;AAAF,MAAgB,MAAM,OAAO,QAAP,CAA5B;AACA,QAAMC,WAAW,GAAG,CAAC,MAAM,OAAO,cAAP,CAAP,EAA+BC,OAAnD;AACA,QAAM;AAAEC,IAAAA;AAAF,MAA2B,MAAM,OAAO,OAAP,CAAvC;AAEA,QAAM;AAAEC,IAAAA;AAAF,MAAYH,WAAW,CAACF,OAAD,CAA7B;AACA,QAAMI,oBAAoB,CAACC,KAAD,CAA1B,CAN2E,CAQ3E;;AACAL,EAAAA,OAAO,CAACM,GAAR,CAAYC,SAAZ,CACE,YADF,EAEEN,SAAS,CAAC,OAAD,EAAU,EAAV,EAAc;AACrBO,IAAAA,MAAM,EAAE,CAAC,CADY;AAErBC,IAAAA,IAAI,EAAE;AAFe,GAAd,CAFX;AAQA,SAAO;AACLC,IAAAA,KAAK,EAAE;AADF,GAAP;AAGD","sourcesContent":["import React from 'react';\nimport Head from 'next/head';\nimport Header from '../components/Header';\nimport { GetServerSidePropsContext } from 'next';\n\nexport default function Logout() {\n  const linkList = [{ name: 'About', url: '/about' }];\n\n  if (user === null) {\n    linkList.push({ name: 'Register', url: '/register' });\n    linkList.push({ name: 'Login', url: '/login' });\n  } else {\n    linkList.push({ name: 'Logout', url: '/logout' });\n  }\n  return (\n    <>\n      <Header />\n      <div>\n        <Head>\n          <title>Logged out</title>\n        </Head>\n        Successfully Logged Out\n      </div>\n    </>\n  );\n}\n\nexport async function getServerSideProps(context: GetServerSidePropsContext) {\n  const { serialize } = await import('cookie');\n  const nextCookies = (await import('next-cookies')).default;\n  const { deleteSessionByToken } = await import('../db');\n\n  const { token } = nextCookies(context);\n  await deleteSessionByToken(token);\n\n  // Remove the cookie\n  context.res.setHeader(\n    'Set-Cookie',\n    serialize('token', '', {\n      maxAge: -1,\n      path: '/',\n    }),\n  );\n\n  return {\n    props: {},\n  };\n}\n"]},"metadata":{},"sourceType":"module"}