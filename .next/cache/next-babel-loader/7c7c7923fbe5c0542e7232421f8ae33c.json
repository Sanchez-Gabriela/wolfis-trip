{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 40px;\\n  color: #fc4a1a;\\n  display: inline-block;\\n  margin-left: 20px;\\n  margin-top: 20px;\\n  font-family: 'Karla', sans-serif;\\n  text-decoration: none;\\n  border: 2px solid #fc4a1a;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n  color: #323339;\\n  font-size: 18px;\\n  font-family: 'Karla', sans-serif;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  margin: 15px;\\n  text-decoration: none;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  border-radius: 4px;\\n  font-family: 'Karla', sans-serif;\\n  font-size: 18px;\\n  margin-top: 10px;\\n  background: #ffff;\\n  border: 2px solid #2f4f4f;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  line-height: 2.5;\\n  margin-bottom: 15px;\\n  border-radius: 4px;\\n  border: 2px solid #f7b733;\\n  margin-top: 20px;\\n  font-family: 'Karla', sans-serif;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  background: #f7b733;\\n  width: 200px;\\n  position: relative;\\n  margin: auto;\\n  margin-top: 10%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 20px;\\n  border-radius: 6px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  background: #4abdac;\\n  min-height: 100vh;\\n  font-weight: 400;\\n  font-family: 'Karla', sans-serif;\\n  width: 100%;\\n  position: absolute;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport Header from '../components/Header';\nimport Router from 'next/router';\n\n/** @jsx jsx */\n\n/** @jsxFrag React.Fragment */\nimport { jsx, css } from '@emotion/core';\n//================================================================================\n// Style\n//================================================================================\nvar app = css(_templateObject());\nvar form = css(_templateObject2());\nvar input = css(_templateObject3());\nvar button = css(_templateObject4());\nvar forgottenPass = css(_templateObject5());\nvar logo = css(_templateObject6()); //================================================================================\n// Function\n//================================================================================\n\nexport var __N_SSP = true;\nexport default function Login() {\n  var _useState = useState(''),\n      username = _useState[0],\n      setUsername = _useState[1];\n\n  var _useState2 = useState(''),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(''),\n      status = _useState3[0],\n      setStatus = _useState3[1];\n\n  function onSubmit(event) {\n    event.preventDefault();\n    fetch('/api/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    }).then(function (response) {\n      if (response.ok !== true) {\n        setStatus('Failed logging in - response is not ok');\n      }\n\n      return response.json();\n    }).then(function (json) {\n      if (json.loggedIn === false) {\n        setStatus('Failed logging in - check username and password');\n      } else {\n        setStatus('Logged in!');\n        setTimeout(function () {\n          Router.replace('/');\n        }, 2000);\n      }\n    })[\"catch\"](function () {\n      setStatus('Failed logging in - request failed');\n    });\n  }\n\n  return jsx(React.Fragment, null, jsx(Header, null), jsx(\"div\", {\n    css: app\n  }, jsx(Link, {\n    href: '/index'\n  }, jsx(\"a\", {\n    href: \"#a\",\n    css: logo\n  }, \"Wolfi\")), jsx(\"form\", {\n    method: \"POST\",\n    css: form,\n    onSubmit: onSubmit\n  }, jsx(\"input\", {\n    css: input,\n    onChange: function onChange(event) {\n      return setUsername(event.target.value);\n    },\n    placeholder: \"username\",\n    name: \"username\"\n  }), jsx(\"input\", {\n    css: input,\n    placeholder: \"Password\",\n    type: \"password\",\n    name: \"password\",\n    pattern: \"[0-9]{3}-[0-9]{3}-[0-9]{4}\",\n    onChange: function onChange(event) {\n      return setPassword(event.target.value);\n    }\n  }), jsx(\"button\", {\n    css: button,\n    type: \"button\"\n  }, ' ', \"LOGIN\")), status, jsx(\"a\", {\n    href: \"#a\",\n    css: forgottenPass\n  }, \"I forgot my password, send me an email \\u226B\"), jsx(Link, {\n    href: '/register'\n  }, jsx(\"a\", {\n    href: \"#a\",\n    css: forgottenPass\n  }, \"Register \\u226B\"))));\n}","map":null,"metadata":{},"sourceType":"module"}