{"ast":null,"code":"import { selectSessionByToken } from '../../db';\nexport default async function checkLogin(req, res) {\n  const token = req.cookies.token;\n  const session = await selectSessionByToken(token);\n  res.json(session.length > 0);\n}","map":{"version":3,"sources":["/Users/gabrielasanchez/projects/wolfis-trip/pages/api/checkLogin.ts"],"names":["selectSessionByToken","checkLogin","req","res","token","cookies","session","json","length"],"mappings":"AACA,SAASA,oBAAT,QAAqC,UAArC;AAEA,eAAe,eAAeC,UAAf,CACbC,GADa,EAEbC,GAFa,EAGb;AACA,QAAMC,KAAK,GAAGF,GAAG,CAACG,OAAJ,CAAYD,KAA1B;AACA,QAAME,OAAO,GAAG,MAAMN,oBAAoB,CAACI,KAAD,CAA1C;AACAD,EAAAA,GAAG,CAACI,IAAJ,CAASD,OAAO,CAACE,MAAR,GAAiB,CAA1B;AACD","sourcesContent":["import { NextApiRequest, NextApiResponse } from 'next';\nimport { selectSessionByToken } from '../../db';\n\nexport default async function checkLogin(\n  req: NextApiRequest,\n  res: NextApiResponse,\n) {\n  const token = req.cookies.token;\n  const session = await selectSessionByToken(token);\n  res.json(session.length > 0);\n}\n"]},"metadata":{},"sourceType":"module"}