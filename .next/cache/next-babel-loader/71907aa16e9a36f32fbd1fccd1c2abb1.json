{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/gabrielasanchez/projects/wolfis-trip/pages/logout.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    font-family: 'Karla', sans-serif;\\n  \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport Head from 'next/head';\nimport Header from '../components/Header';\n\n/** @jsx jsx */\n\n/** @jsxFrag React.Fragment */\nimport { jsx, css } from '@emotion/core';\nexport var __N_SSP = true;\nexport default function Logout() {\n  var logout = css(_templateObject());\n  return jsx(React.Fragment, null, jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }), jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }\n  }, jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }\n  }, jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 11\n    }\n  }, \"Logged out\")), jsx(\"div\", {\n    css: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, \"Successfully logged out\")));\n}\n_c = Logout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"sources":["/Users/gabrielasanchez/projects/wolfis-trip/pages/logout.tsx"],"names":["Head","Header","jsx","css","Logout","logout"],"mappings":";;;;;;;;;;;;;;;AACA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;AAEA;;AACA;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,eAAzB;;AAEA,eAAe,SAASC,MAAT,GAAkB;AAC/B,MAAMC,MAAM,GAAGF,GAAH,mBAAZ;AAIA,SACE,0BACE,IAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,IAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,EAIE;AAAK,IAAA,GAAG,EAAEE,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAJF,CAFF,CADF;AAWD;KAhBuBD,M","sourcesContent":["import React from 'react';\nimport Head from 'next/head';\nimport Header from '../components/Header';\nimport { GetServerSidePropsContext } from 'next';\n/** @jsx jsx */\n/** @jsxFrag React.Fragment */\nimport { jsx, css } from '@emotion/core';\n\nexport default function Logout() {\n  const logout = css`\n    font-family: 'Karla', sans-serif;\n  `;\n\n  return (\n    <>\n      <Header />\n      <div>\n        <Head>\n          <title>Logged out</title>\n        </Head>\n        <div css={logout}>Successfully logged out</div>\n      </div>\n    </>\n  );\n}\n\nexport async function getServerSideProps(context: GetServerSidePropsContext) {\n  const { serialize } = await import('cookie');\n  const nextCookies = (await import('next-cookies')).default;\n  const { deleteSessionByToken } = await import('../db');\n\n  const { token } = nextCookies(context);\n  await deleteSessionByToken(token);\n\n  // Remove the cookie\n  context.res.setHeader(\n    'Set-Cookie',\n    serialize('token', '', {\n      maxAge: -1,\n      path: '/',\n    }),\n  );\n\n  return {\n    props: {},\n  };\n}\n"]},"metadata":{},"sourceType":"module"}