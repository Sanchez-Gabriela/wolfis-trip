{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/Users/gabrielasanchez/projects/wolfis-trip/pages/interests.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"\\n  background-color: #f7b733;\\n  border-radius: 30px;\\n\"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"\\n  font-family: 'Cabin Sketch', cursive;\\n  margin-top: 50px;\\n\"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  margin: auto;\\n  font-size: 20px;\\n  line-height: 2.5;\\n  padding: 20px;\\n  margin-top: -50px;\\n\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\n  list-style: none;\\n  line-height: 2.5;\\n  font-size: 16px;\\n\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 500px;\\n  margin-top: 50px;\\n  width: 700px;\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 70px;\\n  font-family: 'Karla', sans-serif;\\n  text-align: center;\\n  margin-top: 40px;\\n  border-radius: 4px;\\n  color: #4abdac;\\n  border: 2px solid #4abdac;\\n  padding: 10px;\\n  font-weight: bold;\\n  margin-bottom: 30px;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 70px;\\n  font-family: 'Karla', sans-serif;\\n  margin: auto;\\n  margin-top: 10px;\\n  border-radius: 4px;\\n  color: #4abdac;\\n  border: 2px solid #4abdac;\\n  padding: 10px;\\n  font-weight: bold;\\n  margin-bottom: 70px;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 5rem 0;\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  padding-top: 20px;\\n  font-family: 'Karla', sans-serif;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: auto;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  color: #f7b733;\\n  font-size: 40px;\\n  text-decoration: none;\\n  font-family: 'Karla', sans-serif;\\n  margin-left: 40%;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 50%;\\n  margin: auto;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  color: black;\\n  font-family: 'Cabin Sketch', cursive;\\n  letter-spacing: 0.1em;\\n  text-align: center;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  min-height: 100vh;\\n  padding: 0 0.5rem;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  font-family: 'Karla', sans-serif;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport MultiSelect from 'react-multi-select-component';\n/** @jsx jsx */\n\n/** @jsxFrag React.Fragment */\n\nimport { jsx, css } from '@emotion/core';\nimport Link from 'next/link';\nimport Datepicker from '../components/Datepicker';\nimport Header from '../components/Header';\nimport { START_DATE } from '@datepicker-react/hooks';\nimport Cookie from 'js-cookie';\nimport { differenceInCalendarDays, eachDayOfInterval } from 'date-fns'; //================================================================================\n// Style\n//================================================================================\n\nvar app = css(_templateObject());\nvar h2 = css(_templateObject2());\nvar dropdown = css(_templateObject3());\nvar readyToGo = css(_templateObject4());\nvar calendar = css(_templateObject5());\nvar main = css(_templateObject6());\nvar divToGo = css(_templateObject7());\nvar calendarButton = css(_templateObject8());\nvar selectButton = css(_templateObject9());\nvar tags = css(_templateObject10());\nvar dates = css(_templateObject11());\nvar section = css(_templateObject12());\nvar sketchText = css(_templateObject13());\nvar dateSection = css(_templateObject14()); //================================================================================\n// Function\n//================================================================================\n\nexport default function Interests() {\n  _s();\n\n  var _this = this;\n\n  // fetch(\n  //   'https://data.wien.gv.at/daten/geo?service=WFS&request=GetFeature&version=1.1.0&typeName=ogdwien:SPAZIERPUNKTOGD &srsName=EPSG:4326&outputFormat=json',\n  // )\n  //   .then((res) => res.json())\n  //   .then((json) => console.log(json));\n  var options = [{\n    value: '1',\n    label: 'sights'\n  }, {\n    value: '2',\n    label: 'classical music'\n  }, {\n    value: '3',\n    label: 'palaces'\n  }, {\n    value: '4',\n    label: 'parks'\n  }, {\n    value: '5',\n    label: 'churchs'\n  }, {\n    value: '6',\n    label: 'markets'\n  }, {\n    value: '7',\n    label: 'coffee houses'\n  }, {\n    value: '8',\n    label: 'typical food'\n  }, {\n    value: '9',\n    label: 'vegan food'\n  }, {\n    value: '10',\n    label: 'museums'\n  }, {\n    value: '11',\n    label: 'theaters'\n  }, {\n    value: '12',\n    label: 'clubs'\n  }]; //multiselector\n\n  var _useState = useState([]),\n      selected = _useState[0],\n      setSelected = _useState[1]; //calendar\n\n\n  var _useState2 = useState({\n    startDate: null,\n    endDate: null,\n    focusedInput: START_DATE\n  }),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var result = differenceInCalendarDays(state.endDate, state.startDate);\n  var resultDays = result + 1; // alert('You have selected ' + resultDays + 'day(s)');\n\n  console.log(resultDays); // function array() {\n\n  var datesInInterval = [];\n\n  if (state.startDate !== null && state.endDate !== null) {\n    datesInInterval = eachDayOfInterval({\n      start: state.startDate,\n      end: state.endDate\n    });\n  } // const [select, setSelect] = useState(['']);\n\n\n  var _useState3 = useState(),\n      journeyId = _useState3[0],\n      setJourneyId = _useState3[1];\n\n  return jsx(React.Fragment, null, jsx(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Karla&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }\n  }), jsx(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Cabin+Sketch&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }), jsx(\"div\", {\n    css: app,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }\n  }, jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  }), jsx(\"div\", {\n    css: main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  }, jsx(\"h2\", {\n    css: h2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, \"1. Choose your dates \\u2935\"), jsx(\"div\", {\n    css: calendar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }, jsx(Datepicker, {\n    state: state,\n    setState: setState,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  })), jsx(\"span\", {\n    css: sketchText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  }, \"Step 2 \\u2935\"), state.startDate !== null && state.endDate !== null && jsx(\"button\", {\n    css: calendarButton,\n    onClick: function onClick() {\n      fetch('/api/journey', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          startDate: state.startDate.toISOString().split('T')[0],\n          endDate: state.endDate.toISOString().split('T')[0],\n          token: Cookie.get('token')\n        }) // body data type must match \"Content-Type\" header\n\n      }).then(function (response) {\n        console.log(response);\n        return response.json();\n      }).then(function (json) {\n        console.log(json.id);\n        setJourneyId(json.id);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }, \"submit\"), jsx(\"section\", {\n    css: dateSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }, jsx(\"ul\", {\n    css: section,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  }, jsx(\"p\", {\n    css: sketchText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 15\n    }\n  }, \"\\u2939 3 Now choose for each day the places you want to visit:\"), datesInInterval.map(function (date) {\n    return jsx(\"li\", {\n      css: dates,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 24\n      }\n    }, date.toDateString());\n  }))), jsx(\"div\", {\n    css: tags,\n    hidden: !journeyId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  }, jsx(\"h2\", {\n    css: h2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }\n  }, \"4 Select your interests: \\u2938\"), jsx(\"div\", {\n    css: dropdown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }\n  }, jsx(\"pre\", {\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 15\n    }\n  }, JSON.stringify(selected)), jsx(MultiSelect, {\n    options: options,\n    value: selected,\n    onChange: setSelected,\n    labelledBy: 'Select',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 15\n    }\n  }), jsx(\"span\", {\n    css: sketchText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 15\n    }\n  }, \"Don't forget to submit \"), jsx(\"button\", {\n    onClick: function onClick() {\n      fetch('/api/tags', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json'\n        },\n        body: JSON.stringify({\n          placeIds: selected.map(function (tag) {\n            return tag.value;\n          }),\n          journeyId: journeyId\n        }) // body data type must match \"Content-Type\" header\n\n      }).then(function (response) {\n        console.log(response);\n        return response.json();\n      }).then(function (json) {\n        console.log(json);\n        JSON.stringify(json);\n      });\n    },\n    css: selectButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 15\n    }\n  }, \"submit\")))), jsx(\"div\", {\n    css: divToGo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 9\n    }\n  }, jsx(Link, {\n    href: '/journey/' + journeyId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 11\n    }\n  }, jsx(\"a\", {\n    href: \"#a\",\n    css: readyToGo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }\n  }, \"Get your plan! \\u226B\")))));\n}\n\n_s(Interests, \"RJhg6ZgGCNILdTbKjJ0xwxvkAgw=\");\n\n_c = Interests;\n\nvar _c;\n\n$RefreshReg$(_c, \"Interests\");","map":{"version":3,"sources":["/Users/gabrielasanchez/projects/wolfis-trip/pages/interests.js"],"names":["React","useState","MultiSelect","jsx","css","Link","Datepicker","Header","START_DATE","Cookie","differenceInCalendarDays","eachDayOfInterval","app","h2","dropdown","readyToGo","calendar","main","divToGo","calendarButton","selectButton","tags","dates","section","sketchText","dateSection","Interests","options","value","label","selected","setSelected","startDate","endDate","focusedInput","state","setState","result","resultDays","console","log","datesInInterval","start","end","journeyId","setJourneyId","fetch","method","headers","body","JSON","stringify","toISOString","split","token","get","then","response","json","id","map","date","toDateString","Accept","placeIds","tag"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport MultiSelect from 'react-multi-select-component';\n/** @jsx jsx */\n/** @jsxFrag React.Fragment */\nimport { jsx, css } from '@emotion/core';\nimport Link from 'next/link';\nimport Datepicker from '../components/Datepicker';\nimport Header from '../components/Header';\nimport { START_DATE } from '@datepicker-react/hooks';\nimport Cookie from 'js-cookie';\nimport { differenceInCalendarDays, eachDayOfInterval } from 'date-fns';\n\n//================================================================================\n// Style\n//================================================================================\n\nconst app = css`\n  min-height: 100vh;\n  padding: 0 0.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  font-family: 'Karla', sans-serif;\n`;\n\nconst h2 = css`\n  color: black;\n  font-family: 'Cabin Sketch', cursive;\n  letter-spacing: 0.1em;\n  text-align: center;\n  padding-top: 10px;\n  padding-bottom: 10px;\n`;\n\nconst dropdown = css`\n  width: 50%;\n  margin: auto;\n`;\n\nconst readyToGo = css`\n  color: #f7b733;\n  font-size: 40px;\n  text-decoration: none;\n  font-family: 'Karla', sans-serif;\n  margin-left: 40%;\n`;\n\nconst calendar = css`\n  margin: auto;\n`;\n\nconst main = css`\n  padding: 5rem 0;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding-top: 20px;\n  font-family: 'Karla', sans-serif;\n`;\n\nconst divToGo = css``;\n\nconst calendarButton = css`\n  width: 70px;\n  font-family: 'Karla', sans-serif;\n  margin: auto;\n  margin-top: 10px;\n  border-radius: 4px;\n  color: #4abdac;\n  border: 2px solid #4abdac;\n  padding: 10px;\n  font-weight: bold;\n  margin-bottom: 70px;\n`;\n\nconst selectButton = css`\n  width: 70px;\n  font-family: 'Karla', sans-serif;\n  text-align: center;\n  margin-top: 40px;\n  border-radius: 4px;\n  color: #4abdac;\n  border: 2px solid #4abdac;\n  padding: 10px;\n  font-weight: bold;\n  margin-bottom: 30px;\n`;\n\nconst tags = css`\n  height: 500px;\n  margin-top: 50px;\n  width: 700px;\n`;\n\nconst dates = css`\n  list-style: none;\n  line-height: 2.5;\n  font-size: 16px;\n`;\n\nconst section = css`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  margin: auto;\n  font-size: 20px;\n  line-height: 2.5;\n  padding: 20px;\n  margin-top: -50px;\n`;\n\nconst sketchText = css`\n  font-family: 'Cabin Sketch', cursive;\n  margin-top: 50px;\n`;\n\nconst dateSection = css`\n  background-color: #f7b733;\n  border-radius: 30px;\n`;\n//================================================================================\n// Function\n//================================================================================\n\nexport default function Interests() {\n  // fetch(\n  //   'https://data.wien.gv.at/daten/geo?service=WFS&request=GetFeature&version=1.1.0&typeName=ogdwien:SPAZIERPUNKTOGD &srsName=EPSG:4326&outputFormat=json',\n  // )\n  //   .then((res) => res.json())\n  //   .then((json) => console.log(json));\n\n  const options = [\n    { value: '1', label: 'sights' },\n    { value: '2', label: 'classical music' },\n    { value: '3', label: 'palaces' },\n    { value: '4', label: 'parks' },\n    { value: '5', label: 'churchs' },\n    { value: '6', label: 'markets' },\n    { value: '7', label: 'coffee houses' },\n    { value: '8', label: 'typical food' },\n    { value: '9', label: 'vegan food' },\n    { value: '10', label: 'museums' },\n    { value: '11', label: 'theaters' },\n    { value: '12', label: 'clubs' },\n  ];\n\n  //multiselector\n  const [selected, setSelected] = useState([]);\n\n  //calendar\n  const [state, setState] = useState({\n    startDate: null,\n    endDate: null,\n    focusedInput: START_DATE,\n  });\n\n  const result = differenceInCalendarDays(state.endDate, state.startDate);\n  const resultDays = result + 1;\n  // alert('You have selected ' + resultDays + 'day(s)');\n  console.log(resultDays);\n\n  // function array() {\n  let datesInInterval = [];\n  if (state.startDate !== null && state.endDate !== null) {\n    datesInInterval = eachDayOfInterval({\n      start: state.startDate,\n      end: state.endDate,\n    });\n  }\n\n  // const [select, setSelect] = useState(['']);\n\n  const [journeyId, setJourneyId] = useState();\n\n  return (\n    <>\n      <link\n        href=\"https://fonts.googleapis.com/css2?family=Karla&display=swap\"\n        rel=\"stylesheet\"\n      ></link>\n      <link\n        href=\"https://fonts.googleapis.com/css2?family=Cabin+Sketch&display=swap\"\n        rel=\"stylesheet\"\n      ></link>\n      <div css={app}>\n        <Header />\n        <div css={main}>\n          <h2 css={h2}>1. Choose your dates &#x2935;</h2>\n          <div css={calendar}>\n            <Datepicker state={state} setState={setState} />\n          </div>\n          <span css={sketchText}>Step 2 &#x2935;</span>\n          {state.startDate !== null && state.endDate !== null && (\n            <button\n              css={calendarButton}\n              onClick={() => {\n                fetch('/api/journey', {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json',\n                  },\n                  body: JSON.stringify({\n                    startDate: state.startDate.toISOString().split('T')[0],\n                    endDate: state.endDate.toISOString().split('T')[0],\n                    token: Cookie.get('token'),\n                  }), // body data type must match \"Content-Type\" header\n                })\n                  .then((response) => {\n                    console.log(response);\n                    return response.json();\n                  })\n                  .then((json) => {\n                    console.log(json.id);\n                    setJourneyId(json.id);\n                  });\n              }}\n            >\n              submit\n            </button>\n          )}\n          <section css={dateSection}>\n            <ul css={section}>\n              <p css={sketchText}>\n                &#x2939; 3 Now choose for each day the places you want to visit:\n              </p>\n              {datesInInterval.map((date) => {\n                return <li css={dates}>{date.toDateString()}</li>;\n              })}\n            </ul>\n          </section>\n          <div css={tags} hidden={!journeyId}>\n            <h2 css={h2}>4 Select your interests: &#x2938;</h2>\n            <div css={dropdown}>\n              <pre hidden>{JSON.stringify(selected)}</pre>\n              <MultiSelect\n                options={options}\n                value={selected}\n                onChange={setSelected}\n                labelledBy={'Select'}\n              />\n              <span css={sketchText}>Don't forget to submit </span>\n              <button\n                onClick={() => {\n                  fetch('/api/tags', {\n                    method: 'POST',\n                    headers: {\n                      'Content-Type': 'application/json',\n                      Accept: 'application/json',\n                    },\n                    body: JSON.stringify({\n                      placeIds: selected.map((tag) => {\n                        return tag.value;\n                      }),\n                      journeyId: journeyId,\n                    }), // body data type must match \"Content-Type\" header\n                  })\n                    .then((response) => {\n                      console.log(response);\n                      return response.json();\n                    })\n                    .then((json) => {\n                      console.log(json);\n                      JSON.stringify(json);\n                    });\n                }}\n                css={selectButton}\n              >\n                submit\n              </button>\n            </div>\n          </div>\n        </div>\n        <div css={divToGo}>\n          <Link href={'/journey/' + journeyId}>\n            <a href=\"#a\" css={readyToGo}>\n              Get your plan! &#x0226B;\n            </a>\n          </Link>\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}